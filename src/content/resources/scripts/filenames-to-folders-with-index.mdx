To batch create a bunch of folders based on the name of mdx files (change file extention if you want to use on a different type of file): 

``` sh
for x in ./*.mdx; do
  mkdir "${x%.*}" && mv "$x" "${x%.*}"
done
```

From [StackExchange](https://unix.stackexchange.com/questions/219991/how-do-i-create-a-directory-for-every-file-in-a-parent-directory).


To rename all of the aforementioned mdx files to 'index.mdx', go up one level `cd ..` and use:

``` sh
find ./posts/ -iname '*.mdx' -execdir mv -i '{}' index.mdx \;
```